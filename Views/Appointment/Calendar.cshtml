@{
    ViewData["Title"] = "Calendário de Agendamentos";
}

<link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.css' rel='stylesheet' />
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.js'></script>
<link href="/css/site.css" rel="stylesheet" /> <!-- Certifique-se de que este caminho está correto -->

<div class="container">
    <h1>Calendário de Agendamentos</h1>
    <div id="calendar"></div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth',
            events: '/Appointment/GetAppointments', // Endpoint para buscar os eventos
            dateClick: function (info) {
                var dateStr = info.dateStr;
                var url = '/Appointment/Create?date=' + dateStr;
                window.location.href = url;
            }
        });
        calendar.render();
    });
</script>
